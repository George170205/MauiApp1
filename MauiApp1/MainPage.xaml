<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiApp1.MainPage"
             NavigationPage.HasNavigationBar="False"
             BackgroundColor="#F9FAFB">
    
    <!--Resources-->
    <ContentPage.Resources>
        <ResourceDictionary>
            <!-- Colores de la paleta -->
            <Color x:Key="AdminPrimary">#1F2937</Color>
            <Color x:Key="AdminSecondary">#374151</Color>
            <Color x:Key="GreenAccent">#10B981</Color>
            <Color x:Key="BackgroundLight">#F9FAFB</Color>
            <Color x:Key="CardBackground">#FFFFFF</Color>
            <Color x:Key="TextPrimary">Black</Color>
            <Color x:Key="TextSecondary">#6B7280</Color>

            <!-- Estilos reutilizables -->
            <Style x:Key="HeaderStyle" TargetType="Label">
                <Setter Property="FontSize" Value="28"/>
                <Setter Property="FontAttributes" Value="Bold"/>
                <Setter Property="TextColor" Value="{StaticResource TextPrimary}"/>
                <Setter Property="Margin" Value="20,20,20,10"/>
            </Style>

            <Style x:Key="SubHeaderStyle" TargetType="Label">
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="TextColor" Value="{StaticResource TextSecondary}"/>
                <Setter Property="Margin" Value="20,0,20,20"/>
            </Style>

            <Style x:Key="CardStyle" TargetType="Border">
                <Setter Property="BackgroundColor" Value="{StaticResource CardBackground}" />
                <Setter Property="Padding" Value="20" />
                <Setter Property="Margin" Value="20,10" />
                <Setter Property="StrokeThickness" Value="1" />

                <!-- Esquinas redondeadas -->
                <Setter Property="StrokeShape">
                    <RoundRectangle CornerRadius="15" />
                </Setter>

                <!-- Sombra (reemplazo de HasShadow) -->
                <Setter Property="Shadow">
                    <Shadow
            Opacity="0.3"
            Radius="12"
            Offset="4,4" />
                </Setter>
            </Style>


            <Style x:Key="StatLabelStyle" TargetType="Label">
                <Setter Property="FontSize" Value="22"/>
                <Setter Property="FontFamily" Value="InterExtraBold"/>
                <Setter Property="FontAttributes" Value="Bold"/>
                <Setter Property="TextColor" Value="{StaticResource TextPrimary}"/>
                <Setter Property="HorizontalOptions" Value="Center"/>
            </Style>

            <Style x:Key="StatDescriptionStyle" TargetType="Label">
                <Setter Property="FontSize" Value="12"/>
                <Setter Property="TextColor" Value="{StaticResource TextSecondary}"/>
                <Setter Property="HorizontalOptions" Value="Center"/>
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>


    <ScrollView>
        <VerticalStackLayout>
            <!-- Header con gradiente -->
            <Grid HeightRequest="220">
                <!--Path con gradiente - forma ondulada-->
                
                <!-- Contenido del header -->
                <Grid VerticalOptions="Start" Margin="20,20,20,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Barra superior con Logo y menú de 3 puntos -->
                    <Grid Grid.Row="0" ColumnDefinitions="Auto,*,Auto" Margin="0,0,0,30">
                        <!-- Logo/Nombre de la App -->
                        <HorizontalStackLayout Grid.Column="0" Spacing="8" VerticalOptions="Center">
                            <Border WidthRequest="32"
                        HeightRequest="32"
                        StrokeThickness="0"
                        BackgroundColor="#1967D2"
                        HorizontalOptions="Center"
                        VerticalOptions="Center">
                                <Border.StrokeShape>
                                    <RoundRectangle CornerRadius="8"/>
                                </Border.StrokeShape>
                            </Border>
                            <Label Text="Link"
                       FontFamily="InterBold"
                       FontSize="20"
                       FontAttributes="Bold"
                       TextColor="Black"
                       VerticalOptions="Center"/>
                        </HorizontalStackLayout>

                        <!-- Botón de 3 puntos (configuración) -->
                        <Border Grid.Column="2"
                    WidthRequest="40"
                    HeightRequest="40"
                    StrokeThickness="0"
                    BackgroundColor="Transparent"
                    HorizontalOptions="End"
                    VerticalOptions="Center">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="20"/>
                            </Border.StrokeShape>
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnConfiguracionClicked"/>
                            </Border.GestureRecognizers>
                            <Label Text="⋮"
                       FontSize="24"
                       TextColor="Gray"
                       HorizontalOptions="Center"
                       VerticalOptions="Center"
                       Margin="0,-4,0,0"/>
                        </Border>
                    </Grid>
                    <!-- Barra decorativa inferior -->
                    <Border HeightRequest="1"
                            Margin="-20,30,-20,0"
                            StrokeThickness="0"
                            BackgroundColor="#DADCE0">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="0"/>
                        </Border.StrokeShape>
                    </Border>


                    <!-- Información del Usuario (Tarjeta) -->
                    <Border Grid.Row="1"
                Padding="20,16"
                BackgroundColor="#FFFFFF"
                StrokeThickness="0"
                Margin="0,0,0,20"
                VerticalOptions="Start">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="16"/>
                        </Border.StrokeShape>
                        <Border.Shadow>
                            <Shadow Brush="#000000" Offset="0,2" Radius="8" Opacity="0.1"/>
                        </Border.Shadow>

                        <HorizontalStackLayout Spacing="15">
                            <!-- Avatar con iniciales -->
                            <Border WidthRequest="60"
                        HeightRequest="60"
                        StrokeThickness="0"
                        BackgroundColor="Black"
                        VerticalOptions="Center">
                                <Border.StrokeShape>
                                    <RoundRectangle CornerRadius="30"/>
                                </Border.StrokeShape>
                                <Label Text="AG"
                           FontFamily="InterBold"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="White"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"/>
                            </Border>

                            <!-- Información del usuario -->
                            <VerticalStackLayout Spacing="4" VerticalOptions="Center">
                                <Label Text="Ana García López"
                           FontFamily="InterBold"
                           FontSize="18"
                           FontAttributes="Bold"
                           TextColor="#1F2937"/>
                                <Label Text="Coordinadora • Administradora"
                           FontSize="13"
                           TextColor="#6B7280"/>
                            </VerticalStackLayout>
                        </HorizontalStackLayout>
                    </Border>
                </Grid>
            </Grid>

     
            <!-- Accesos Rápidos -->
            <Grid Margin="20,0" ColumnSpacing="12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Botón Usuarios -->
                <Border Grid.Column="0" Style="{StaticResource CardStyle}" Margin="0">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnUsuariosClicked"/>
                    </Border.GestureRecognizers>
                    <VerticalStackLayout Spacing="10">
                        <Border WidthRequest="90" HeightRequest="50" 
                                Padding="0"
                                BackgroundColor="White"
                                StrokeThickness="0">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="12"/>
                            </Border.StrokeShape>
                            <Label Text="1456" Style="{StaticResource StatLabelStyle}" 
                                   HorizontalOptions="Center" VerticalOptions="Center"/>
                        </Border>
                        <Label Text="Usuarios" FontSize="12" FontAttributes="Bold" 
                               TextColor="{StaticResource TextSecondary}"   HorizontalOptions="Center" VerticalOptions="Center"/>
                
                    </VerticalStackLayout>
                </Border>

                <!-- Botón Materias -->
                <Border Grid.Column="1" Style="{StaticResource CardStyle}" Margin="0">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnMateriasClicked"/>
                    </Border.GestureRecognizers>
                    <VerticalStackLayout Spacing="10">
                        <Border WidthRequest="90" HeightRequest="50" 
                                Padding="0" 
                                BackgroundColor="#FFFFFF" 
                                StrokeThickness="0">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="12"/>
                            </Border.StrokeShape>
                            <Label Text="42" Style="{StaticResource StatLabelStyle}" 
                                   HorizontalOptions="Center" VerticalOptions="Center"/>
                        </Border>
                        <Label Text="Grupos" FontSize="12" FontAttributes="Bold" 
                               TextColor="{StaticResource TextSecondary}"   HorizontalOptions="Center" VerticalOptions="Center"/>
                        </VerticalStackLayout>
                </Border>

                <!-- Botón Grupos -->
                <Border Grid.Column="2" Style="{StaticResource CardStyle}" Margin="0">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnGruposClicked"/>
                    </Border.GestureRecognizers>
                    <VerticalStackLayout Spacing="10">
                        <Border WidthRequest="90" HeightRequest="50" 
                                Padding="0" 
                                BackgroundColor="#FFFFFF" 
                                StrokeThickness="0">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="12"/>
                            </Border.StrokeShape>
                            <Label Text="85%" Style="{StaticResource StatLabelStyle}" 
                                   HorizontalOptions="Center" VerticalOptions="Center"/>
                        </Border>
                        <Label Text="Asistencia" FontSize="12" FontAttributes="Bold" 
                               TextColor="{StaticResource TextSecondary}"   HorizontalOptions="Center" VerticalOptions="Center"/>
                       </VerticalStackLayout>
                </Border>
            </Grid>

            <!-- Estado del Sistema -->
            <Border Style="{StaticResource CardStyle}" Margin="20,40">
                <VerticalStackLayout Spacing="15">
                    <!-- Título -->
                    <Label Text="Estado del Sistema" 
               FontSize="16" 
               FontFamily="InterBold"
               FontAttributes="Bold" 
               TextColor="Black"/>

                    <!-- Separador -->
                    <BoxView HeightRequest="1" 
                 Color="#E5E7EB" 
                 Margin="0,0,0,5"/>

                    <!-- Alumnos activos -->
                    <Grid ColumnDefinitions="*,Auto">
                        <Label Grid.Column="0"
                   Text="Alumnos activos" 
                   FontSize="14" 
                   TextColor="{StaticResource TextSecondary}"
                   VerticalOptions="Center"/>
                        <Label Grid.Column="1"
                   Text="456" 
                   FontSize="18" 
                   FontFamily="InterBold"
                   FontAttributes="Bold" 
                   TextColor="{StaticResource TextPrimary}"
                   VerticalOptions="Center"/>
                    </Grid>

                    <!-- Docentes online -->
                    <Grid ColumnDefinitions="*,Auto">
                        <Label Grid.Column="0"
                   Text="Docentes" 
                   FontSize="14" 
                   TextColor="{StaticResource TextSecondary}"
                   VerticalOptions="Center"/>
                        <Label Grid.Column="1"
                   Text="28" 
                   FontSize="18" 
                   FontFamily="InterBold"
                   FontAttributes="Bold" 
                   TextColor="{StaticResource TextPrimary}"
                   VerticalOptions="Center"/>
                    </Grid>

                    <!-- Distribucion de Grupos -->
                    <Grid ColumnDefinitions="*,Auto">
                        <Label Grid.Column="0"
                                Text="Distribucion de grupos" 
                                FontSize="14" 
                                TextColor="{StaticResource TextSecondary}"
                                VerticalOptions="Center"/>
                        <Label Grid.Column="1"
                                Text=">" 
                                FontSize="14" 
                                FontFamily="InterBold"
                                FontAttributes="Bold" 
                                TextColor="{StaticResource TextPrimary}"
                                VerticalOptions="Center"/>
                    </Grid>

                    <!-- Reportes -->
                    <Grid ColumnDefinitions="*,Auto">
                        <Label Grid.Column="0"
                                Text="Reporte Parcial" 
                                FontSize="14" 
                                TextColor="{StaticResource TextSecondary}"
                                VerticalOptions="Center"/>
                        <Label Grid.Column="1"
                                Text=">" 
                                FontSize="14" 
                                FontFamily="InterBold"
                                FontAttributes="Bold" 
                                TextColor="{StaticResource TextPrimary}"
                                VerticalOptions="Center"/>
                        </Grid> 

                </VerticalStackLayout>
            </Border>


            <!-- Alertas Pendientes -->

            <Border Style="{StaticResource CardStyle}">
                <VerticalStackLayout Spacing="15">
                    <HorizontalStackLayout Spacing="10">
                        <Border WidthRequest="40" HeightRequest="40" 
                                Padding="0" 
                                BackgroundColor="#FEF2F2" 
                                StrokeThickness="0">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="10"/>
                            </Border.StrokeShape>
                            <Label Text="⚠️" FontSize="20" 
                                   HorizontalOptions="Center" VerticalOptions="Center"/>
                        </Border>
                        <VerticalStackLayout VerticalOptions="Center" Spacing="2">
                            <Label Text="Alertas que Requieren Atención" 
                                   FontSize="16" FontAttributes="Bold"
                                   TextColor="{StaticResource TextPrimary}"/>
                            <Label Text="3 alertas activas" 
                                   FontSize="11"
                                   TextColor="{StaticResource TextSecondary}"/>
                        </VerticalStackLayout>
                    </HorizontalStackLayout>

                    <!-- Lista de alertas -->
                    <StackLayout Spacing="10" Margin="0,10,0,0">
                        <HorizontalStackLayout Spacing="8">
                            <Label Text="•" FontSize="20" TextColor="#EF4444" VerticalOptions="Center"/>
                            <Label Text="3 docentes sin grupos asignados"
                                   FontSize="13" TextColor="{StaticResource TextPrimary}"
                                   VerticalOptions="Center"/>
                        </HorizontalStackLayout>

                        <HorizontalStackLayout Spacing="8">
                            <Label Text="•" FontSize="20" TextColor="#F59E0B" VerticalOptions="Center"/>
                            <Label Text="12 alumnos con baja asistencia (&lt;80%)"
                                   FontSize="13" TextColor="{StaticResource TextPrimary}"
                                   VerticalOptions="Center"/>
                        </HorizontalStackLayout>

                        <HorizontalStackLayout Spacing="8">
                            <Label Text="•" FontSize="20" TextColor="#F59E0B" VerticalOptions="Center"/>
                            <Label Text="5 solicitudes de cambio pendientes"
                                   FontSize="13" TextColor="{StaticResource TextPrimary}"
                                   VerticalOptions="Center"/>
                        </HorizontalStackLayout>
                    </StackLayout>

                    <!-- Botón Ver todas -->
                    <Button Text="Ver Todas las Alertas"
                            BackgroundColor="{StaticResource AdminPrimary}"
                            TextColor="White"
                            CornerRadius="10"
                            HeightRequest="45"
                            Margin="0,10,0,0"
                            Clicked="OnVerAlertasClicked"/>
                </VerticalStackLayout>
            </Border>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
